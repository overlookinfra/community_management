<html>
<title>Tools PRs that require review</title>
<head>
<link rel="stylesheet" type="text/css" href="tools.css">
<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
<script src='./web_libraries/jquery.min.js' type='text/javascript'></script>
<script src='./web_libraries/sorttable.js'></script><link rel='stylesheet' href='./web_libraries/bootstrap.min.css'>
<script scr="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css"></script>
<script src='./web_libraries/DataTables/datatables.js'></script><link rel='stylesheet' href='./web_libraries/DataTables/datatables.css'>
<script type="text/javascript">
    $(document).ready(function() {
    // Setup - add a text input to each footer cell
    $('#tools thead tr th').each( function () {
        var title = $(this).text();
        if(title == "age"  || title == "pr"){
          $(this).append( '<input class="something" type="text" placeholder=" "style="width: 30px" />' );
        }

        else{
          if(title == "age_comment"  || title == "num_comments"){
          $(this).append( '<input class="something" type="text" placeholder=" "style="width: 60px" />' );
        }

        else{


        $(this).append( '<input class="something" type="text" placeholder="Search " "style="width: 80px" />' );
        }
    }


  } );
 
    // DataTable
    var table = $('#tools').DataTable();
 
    // Apply the search


    table.columns().every( function () {
        var that = this;
        $( 'input.something', this.header() ).on( 'keyup change clear', function () {
            if ( that.search() !== this.value ) {
                that
                    .search( this.value )
                    .draw();  
            }
        } );
    } );

    $( 'input.something' ).on('click', function(e){
      e.stopPropagation();
      e.preventDefault();
    })
} );

$(document).on("click", '.show-more a', function(e) {
      e.preventDefault();
      var $this = $(this); 
      var maxLength = 300;
      
      var $content = $this.parent().prev("div.content");
      var linkText = $this.text().toUpperCase();    
      if(linkText === "SHOW MORE"){
         linkText = "Show less";
         $content.removeClass('hideContent');
         $content.addClass('showContent');
      } else {
         linkText = "Show more";
         $content.removeClass('showContent');
         $content.addClass('hideContent');
      };

      $this.text(linkText);
   });

</script>
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-157301458-1', 'auto');
ga('send', 'pageview', { 'page': location.pathname + location.search + location.hash});
ga('set', 'anonymizeIp', true);
</script>
<!-- End Google Analytics -->
</head>
<body> 
<h1 style="text-align:center;">Tools PRs that require review</h1>
</div>
<div style="overflow-x:auto;">
<a href="https://puppetlabs.github.io/community_management/report_tools30.html" class="button">30 Days</a>
<a href="https://puppetlabs.github.io/community_management/report_tools60.html" class="button">60 Days</a>
<a href="https://puppetlabs.github.io/community_management/report_tools90.html" class="button">90 Days</a>
<a href="https://puppetlabs.github.io/community_management/report_tools.html" class="button">All</a>
<table data-role='table' data-mode='columntoggle' border='1' id='tools' style='width:relative' class='sortable table table-hover ui-responsive table-stroke'> 
<thead>
  <tr>
    
      
        
           <th>tool</th> 
        
      
        
      
        
           <th>pr</th> 
        
      
         
           <th data-priority="1" class="ui-table-cell-visible">age</th> 
        
      
         
           <th data-priority="1" class="ui-table-cell-visible">owner</th> 
        
      
         
           <th data-priority="1" class="ui-table-cell-visible">title</th> 
        
      
         
           <th data-priority="1" class="ui-table-cell-visible">last_comment</th> 
        
      
         
           <th data-priority="1" class="ui-table-cell-visible">by</th> 
        
      
        
           <th data-priority="2" class="ui-table-priority-1 ui-table-cell-visible">age_comment</th>
        
      
        
           <th data-priority="2" class="ui-table-priority-1 ui-table-cell-visible">num_comments</th>
        
      
        
           <th data-priority="2" class="ui-table-priority-1 ui-table-cell-visible">no_comment_from_puppet</th>
        
      
        
           <th data-priority="2" class="ui-table-priority-1 ui-table-cell-visible">last_comment_mentions_puppet</th>
        
      
   

  </tr>
</thead>

  <tr>
  
  

  
      <td><a target ="_blank" href='https://github.com/puppetlabs/iac'>IAC Blog</a></td>
  
  
  

  
      
  
  
  

  
      <td><a target ="_blank" href='https://github.com/puppetlabs/iac/pull/317'>317</a></td>
  
  
  

  
      
        <td>108</td>
      
  
  
  

  
      
        <td>chaen</td>
      
  
  
  

  
      
        <td>contributing: doc to run a single test</td>
      
  
  
  
  <td>
  <div class="content hideContent">
     Also, something that may be interesting in the doc for totally ignorant people (like me :-) ) is how I can run the tests for a specific version of puppet/ruby. As you can see, I have failures only for one version of that couple, but I am struggling in reproducing: 
https://github.com/puppetlabs/puppetlabs-stdlib/runs/3859406073?check_suite_focus=true

I think ultimately what would be nice is a couple of commands, starting with `docker run`, which would put people in the correct environment they need to run `pdk bundle exec rake spec`.

I tried reproducing what's in the workflow file (https://github.com/puppetlabs/puppetlabs-stdlib/blob/15e13b2b63f0f4b24e68a46cd4c2703682006d8f/.github/workflows/spec.yml#L77-L130) 

If I try to set the env variable `PUPPET_GEM_VERSION`, `pdk` complains

```bash
root@943f4a62533a:/tmp/puppetlabs-stdlib# PUPPET_GEM_VERSION=6.0 pdk bundle exec rake spec SPEC=spec/functions/loadjson_spec.rb 
pdk (INFO): Using Ruby 2.7.3
pdk (INFO): Using Puppet 7.12.0
pdk (WARN): PUPPET_GEM_VERSION is not supported by PDK. Use the --puppet-version option on your PDK command or set the PDK_PUPPET_VERSION environment variable instead
```

If I try with `PDK_PUPPET_VERSION`, I have another issue 

```
root@943f4a62533a:/tmp/puppetlabs-stdlib# PDK_PUPPET_VERSION=6.0 pdk bundle exec rake spec SPEC=spec/functions/loadjson_spec.rb 
pdk (INFO): Using Ruby 2.5.9
pdk (INFO): Using Puppet 6.0.10
pdk (WARN): FACTER_GEM_VERSION is not supported by PDK.
Bundler could not find compatible versions for gem "puppet":
  In Gemfile:
    puppet (= 6.0.10)

    puppet-module-posix-system-r2.5 (~> 1.0) was resolved to 1.1.1, which depends on
      puppet_litmus (~> 0.20) was resolved to 0.30.0, which depends on
        bolt (>= 2.0.1, = 6.18.0)
```


</div>
 <div class="show-more">
        <a href="#">Show more</a>
    </div></td>


  
      
  
  
  

  
      
        <td>chaen</td>
      
  
  
  

  
      
        <td>61</td>
      
  
  
  

  
      
        <td>2</td>
      
  
  
  

  
      
        <td>true</td>
      
  
  
  

  
      
        <td>false</td>
      
  
  
  </tr>

  <tr>
  
  

  
      <td><a target ="_blank" href='https://github.com/voxpupuli/metadata-json-lint'>metadata-json-lint</a></td>
  
  
  

  
      
  
  
  

  
      <td><a target ="_blank" href='https://github.com/voxpupuli/metadata-json-lint/pull/120'>120</a></td>
  
  
  

  
      
        <td>123</td>
      
  
  
  

  
      
        <td>timidri <span class='label label-warning'>puppet</span></td>
      
  
  
  

  
      
        <td>Add test for invalid task metadata</td>
      
  
  
  
  <td>
  <div class="content hideContent">
     This looks like a valid reproducer. Now all we need is someone to write a patch to make the tests pass.
</div>
 <div class="show-more">
        <a href="#">Show more</a>
    </div></td>


  
      
  
  
  

  
      
        <td>ekohl</td>
      
  
  
  

  
      
        <td>81</td>
      
  
  
  

  
      
        <td>6</td>
      
  
  
  

  
      
        <td>false</td>
      
  
  
  

  
      
        <td>false</td>
      
  
  
  </tr>

  <tr>
  
  

  
      <td><a target ="_blank" href='https://github.com/puppetlabs/puppet-lint'>puppet-lint</a></td>
  
  
  

  
      
  
  
  

  
      <td><a target ="_blank" href='https://github.com/puppetlabs/puppet-lint/pull/29'>29</a></td>
  
  
  

  
      
        <td>91</td>
      
  
  
  

  
      
        <td>JonathonAnderson</td>
      
  
  
  

  
      
        <td>support arbitary mountpoints for puppet url's</td>
      
  
  
  
  <td>
  <div class="content hideContent">
     Moving the files after your change to new filenames and then restoring the original files unchanged would go a long way.
</div>
 <div class="show-more">
        <a href="#">Show more</a>
    </div></td>


  
      
  
  
  

  
      
        <td>binford2k</td>
      
  
  
  

  
      
        <td>87</td>
      
  
  
  

  
      
        <td>7</td>
      
  
  
  

  
      
        <td>false</td>
      
  
  
  

  
      
        <td>false</td>
      
  
  
  </tr>
 
</table>
</div>
</body>
</html>
